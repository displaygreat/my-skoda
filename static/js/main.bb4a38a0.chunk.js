(this["webpackJsonpmy-skoda"]=this["webpackJsonpmy-skoda"]||[]).push([[0],{271:function(e,t,a){},431:function(e,t,a){},433:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},672:function(e,t){},674:function(e,t){},685:function(e,t){},687:function(e,t){},714:function(e,t){},716:function(e,t){},717:function(e,t){},722:function(e,t){},724:function(e,t){},743:function(e,t){},755:function(e,t){},758:function(e,t){},800:function(e,t,a){},801:function(e,t,a){},802:function(e,t,a){},820:function(e,t,a){},821:function(e,t,a){},822:function(e,t,a){},823:function(e,t,a){},824:function(e,t,a){},882:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(0),n=a.n(c),r=a(80),i=a.n(r),l=(a(431),a(15)),o=a(16),d=a(18),h=a(17),u=(a(271),a(432),a(423)),j=a(29),m=a(894),b=a(888),p=a(893),O=(a(433),a.p+"static/media/skoda-logo.016171ab.png"),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).handleLogOut=function(){e.props.handleLogOut(),window.location="#"},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"c-my-skoda-navbar",children:Object(s.jsx)(m.a,{fixed:"top",collapseOnSelect:!0,expand:"md",bg:"light",children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(s.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(s.jsxs)(p.a,{className:"mr-auto align-items-center",children:[Object(s.jsxs)(m.a.Brand,{href:"#",children:[Object(s.jsxs)("span",{className:"my-skoda-label",children:["my",Object(s.jsx)("span",{className:"letter-green",children:"Skoda"})]}),Object(s.jsx)("img",{src:O,width:"30",height:"30",className:"my-skoda-logo",alt:"skoda logo"})]}),Object(s.jsx)(p.a.Link,{href:"#/my-skoda",children:"My Skoda Services"}),Object(s.jsx)(p.a.Link,{href:"#/shedule",children:"Schedule Service"})]}),Object(s.jsxs)(p.a,{className:"user align-items-center",children:[Object(s.jsx)("span",{className:"letter-green",children:this.props.activeUser}),Object(s.jsx)(p.a.Link,{href:"#",onClick:this.handleLogOut,children:"LogOut"})]})]})]})})})}}]),a}(n.a.Component),v=a(889),f=a(414),g=a(890),A=a(891),N=(a(437),a(438),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"c-my-skoda-footer",children:Object(s.jsx)(b.a,{children:Object(s.jsxs)(p.a,{className:"footer-nav",as:"ul",children:[Object(s.jsx)(p.a.Item,{as:"li",children:Object(s.jsx)(p.a.Link,{className:"footer-link",href:"/#",children:"Terms of use"})}),Object(s.jsx)(p.a.Item,{as:"li",children:Object(s.jsx)(p.a.Link,{className:"footer-link",href:"/#",children:"Contacts"})})]})})})}}]),a}(n.a.Component)),w=a.p+"static/media/skoda-black-logo.dc681140.jpg",k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).handleClickOnHomeButton=function(){window.location="#/login"},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"p-home-page",children:[Object(s.jsx)(b.a,{className:"main",children:Object(s.jsxs)(v.a,{children:[Object(s.jsxs)(f.a,{className:"home-column",xs:12,md:8,lg:7,children:[Object(s.jsx)("a",{className:"mb-2",href:"/#",children:Object(s.jsxs)("span",{className:"home-label",children:["my",Object(s.jsx)("span",{className:"letter-green",children:"Skoda"})]})}),Object(s.jsx)(g.a,{className:"home-img",src:w,rounded:!0})]}),Object(s.jsxs)(f.a,{className:"home-column",xs:12,md:4,lg:{span:4,offset:1},children:[Object(s.jsx)(g.a,{className:"logo",src:O,rounded:!0}),Object(s.jsx)("h4",{className:"home-subtitle",children:"Welcome to My Skoda!"}),Object(s.jsx)("p",{className:"home-text",children:"mySkoda gives you access to all the digital services from Skoda. Access important vehicle data, manage your data, and set up services."}),Object(s.jsxs)(A.a,{className:"home-button",variant:"success",onClick:this.handleClickOnHomeButton,children:["Let's go",Object(s.jsx)(g.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB7ZLBCQAwCANDJ+n+SzlKSsG3vgIiOfAndyACxpCMnAsFKacs8qWOzI50+weTkJ7I8iogf8uQyc0OHmAm0ZBDsNOXAAAAAElFTkSuQmCC"})]})]})]})}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component),C=a(892),S=a(895),y=(a(439),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHKSURBVHgB7VX/VcIwEE4yAd2gboATWCZAJxAmoE4ATABOAE4gTABOQDewE2AnIH5fe9EQ+0N9/Mm9d+/S3N13P5JLlbpSB+k2ZQ8EMdJa30H2wbGocnBmrd0WRbH+VwBgTwA841K1U45A86ZAugY4BvAKy4TfcN5DbMEbgORiw2rIj7BNxJUVPTibpqzjKIrewZYS34nqINiMAp+4tgLJfKeqPndnEyQG31epii0bOF8tBj0YHDxwGhQBwEoAeCYb2Dz5CQjGzgtySwxDpTFmKuB5AziDJ+r7wO+557eDPvRV1Q2LBVMZ9hCKlDYheFmi1gsCQ75AH4FvuJa9lW/rBaFMyzN0B4SPVNWQHJ71s2U7ZP+jzodY7tCN6qYikCVGIEOybmFQypgLlDsNr1hpaW1WGhqzoJ7Zu/5yktXP7GMZUOrn7hYtsTlR3ukHDoeabAuxzT3br9sI+Xw8HlPXIkbMRbGTN6hCAQCBwBsPeN8A7uYoP51Os7IzQaYXHzQTZOrucV8qGf0CPAkGbOAnpjuyIbEdvPcZHDNno6phG6rzR3EcVt32XPM/4Ca8jQp5rpd1St3hrKRNQwQ7++HI9X0Dr8Ppv9Kf6BP9MDAjLE3+ewAAAABJRU5ErkJggg=="),P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG9SURBVHgBtVWBccIwDJQzgdkgI9AN6ASUCSgT9DoBdIMyAXSCXieATlA2aDZoJiD9DxJnXMeEu1R3wcS89NZLFm40Gn0LrGma+7quKxnYCl1L59zOe1/KwFbw5Fir/yJx/GBQBicJyWK5IOM7lrH+LnqgA3AfwG2vEuRIsO+xzzr5jhjEvnQRufAlQ8J3sazwPtaM5sBP1J0ZzeJGyRGIJOSKDT6P8FlKh7xdEh3kJEnZk4S+VqcLvBWZOn9ZcO0snyt8gsTwRnIHfN3eg6Io4hRp1S0tTIcQrzHFqYYbYpS1ik62CwrZVy6q4YkttECCdZ1yDIP3zKRtW/Xd2KiQ4/FYJ05jvc/sZtL/xjf2haNioWzL2El13ZMLmk771EQlWrUsyMS66BWbTxJUP3CYaHekLDVWeOtL7G+xvzCJVtHJfJDFnkHwHM75n7L6k4n6lfrbc6tMlNr5oqWuvREzw9zsMoyk9GOKeBqubGHJmOJ/AnwZY1zKKbj2NEr0xqxwqINhsDwAN8U6Cdy7Z1GCKBxiOWOnrYGdS2KsuCvOojJNEeDiD0eL/olnm6vJVYJbLEUyKEGKZHCCiER+Aaf8dIp2AwRLAAAAAElFTkSuQmCC",I=a.p+"static/media/skoda-login.15320b1c.jpg",E=a(51),D=a.n(E),Y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleChangeInputEmail=function(e){e.preventDefault(),s.setState({hideAlertIsLogin:!0,hideAlertRequired:!0,hideAlertSuccess:!0,userEmail:e.target.value})},s.handleChangeInputPwd=function(e){e.preventDefault(),s.setState({hideAlertIsLogin:!0,hideAlertRequired:!0,hideAlertSuccess:!0,userPwd:e.target.value})},s.showPassword=function(){s.setState({type:"text",offPwd:"hide",onPwd:"show"})},s.hidePassword=function(){s.setState({type:"password",offPwd:"show",onPwd:"hide"})},s.forgotPassword=function(){s.setState({hideAlertReset:!1})},s.handleChangeInputReset=function(e){e.preventDefault(),s.setState({resetPwd:e.target.value})},s.resetPassword=function(){var e=s.state.resetPwd;D.a.User.requestPasswordReset(e).then((function(){console.log("Reset password email sent successfully"),s.setState({hideAlertReset:!0,resetPwd:"",hideAlertSuccess:!1})})).catch((function(e){console.error("Error while creating request to reset user password",e)}))},s.handleSubmit=function(){var e=s.state.userEmail,t=s.state.userPwd;""!==e&&""!==t?D.a.User.logIn(e,t).then((function(e){console.log("Logged in user",e);var t=e.id,a=e.attributes.email,c=e.attributes.plateNumber,n=e.attributes.lastInspection;s.props.callbackUserId(t),s.props.handleLogin(a),s.props.callbackUserCarPlate(c),s.props.callbackLastInspection(n),window.location="#/my-skoda"})).catch((function(e){console.error("Error while logging in user",e),s.setState({hideAlertIsLogin:!1,userEmail:"",userPwd:""})})):s.setState({hideAlertRequired:!1})},s.state={userEmail:"",userPwd:"",type:"password",offPwd:"show",onPwd:"hide",hideAlertReset:!0,hideAlertSuccess:!0,resetPwd:"",hideAlertIsLogin:!0,hideAlertRequired:!0},s}return Object(o.a)(a,[{key:"handleClickOnBackButton",value:function(){window.location="#"}},{key:"handleClickOnCreateAccount",value:function(){window.location="#/signup-step-one"}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"p-login-page",children:[Object(s.jsxs)(b.a,{className:"main",children:[Object(s.jsxs)(f.a,{className:"login-column",xs:12,lg:4,children:[Object(s.jsx)("a",{className:"mb-2",href:"/#",children:Object(s.jsxs)("span",{className:"my-skoda-login-label",children:["my",Object(s.jsx)("span",{className:"letter-green",children:"Skoda"})]})}),Object(s.jsx)("h4",{children:"Login"}),Object(s.jsx)("p",{className:"text",children:"for My Skoda"}),Object(s.jsxs)(C.a,{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(s.jsxs)(C.a.Group,{className:"login-input",children:[Object(s.jsx)(C.a.Label,{children:"Email address"}),Object(s.jsx)(C.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:this.state.userEmail,onChange:this.handleChangeInputEmail})]}),Object(s.jsxs)(C.a.Group,{className:"login-input",children:[Object(s.jsx)(C.a.Label,{children:"Password"}),Object(s.jsxs)("div",{className:"input-password",children:[Object(s.jsx)(C.a.Control,{type:this.state.type,placeholder:"Password",required:!0,value:this.state.userPwd,onChange:this.handleChangeInputPwd}),Object(s.jsx)(g.a,{className:"icon-eye-off ".concat(this.state.offPwd),src:P,onClick:this.showPassword}),Object(s.jsx)(g.a,{className:"icon-eye ".concat(this.state.onPwd),src:y,onClick:this.hidePassword})]})]}),Object(s.jsx)("a",{className:"login-link",href:"/#/login",onClick:this.forgotPassword,children:"Forgot password?"}),Object(s.jsxs)(S.a,{className:"error-alert mt-2",hidden:this.state.hideAlertReset,onClose:function(){return e.setState({hideAlertReset:!0})},dismissible:!0,children:[Object(s.jsx)("p",{className:"m-0 mb-2",children:"To get reset password link, please enter your email"}),Object(s.jsx)(C.a.Group,{className:"login-input",children:Object(s.jsx)(C.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:this.state.resetPwd,onChange:this.handleChangeInputReset})}),Object(s.jsx)(A.a,{className:"next-button",variant:"success",onClick:this.resetPassword,children:"Send"})]}),Object(s.jsx)(S.a,{className:"mt-2",variant:"success",hidden:this.state.hideAlertSuccess,onClose:function(){return e.setState({hideAlertSuccess:!0})},dismissible:!0,children:Object(s.jsx)("p",{className:"m-0",children:"Reset password email sent successfully. Check your email to reset password"})}),Object(s.jsxs)("div",{className:"prev-next-buttons",children:[Object(s.jsx)(A.a,{className:"prev-button",variant:"outline-success",onClick:this.handleClickOnBackButton,children:"Back"}),Object(s.jsx)(A.a,{className:"next-button",variant:"success",onClick:this.handleSubmit,children:"Next"})]}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertRequired,onClose:function(){return e.setState({hideAlertRequired:!0})},dismissible:!0,children:Object(s.jsx)("p",{className:"m-0",children:"All fields are required"})}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertIsLogin,onClose:function(){return e.setState({hideAlertIsLogin:!0})},dismissible:!0,children:Object(s.jsxs)("p",{className:"m-0",children:["Check email",Object(s.jsx)("br",{}),"and password",Object(s.jsx)("br",{}),"or ",Object(s.jsx)("a",{className:"login-link",href:"/#/signup-step-one",children:"Create account"})]})}),Object(s.jsx)("a",{className:"login-link",href:"/#/signup-step-one",children:"Don't have an account?"}),Object(s.jsx)(A.a,{className:"signup-button",variant:"success",onClick:this.handleClickOnCreateAccount,children:"Create account"})]})]}),Object(s.jsxs)(f.a,{className:"login-column",xs:12,lg:8,children:[Object(s.jsx)(g.a,{className:"logo",src:O,rounded:!0}),Object(s.jsx)("div",{className:"login-img-wrap",children:Object(s.jsx)(g.a,{className:"login-img",src:I,rounded:!0})})]})]}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component),B=(a(800),a.p+"static/media/skoda-signup-2.5750adf3.jpg"),M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).showPassword=function(){s.setState({type:"text",offPwd:"hide",onPwd:"show"})},s.hidePassword=function(){s.setState({type:"password",offPwd:"show",onPwd:"hide"})},s.handleChangeInputPwd=function(e){e.preventDefault(),s.setState({newUserPwd:e.target.value}),s.validatePassword(e.target.value)},s.handleChangeConfirmPwd=function(e){e.preventDefault(),s.setState({confirmUserPwd:e.target.value}),s.isSameValue(e.target.value)},s.validatePassword=function(e){var t=/(?=.*\d)(?=.*[a-z]).{8,}/.test(e);t||s.setState({hideErrorPwd:!1}),t&&s.setState({hideErrorPwd:!0})},s.isSameValue=function(e){var t=s.state.newUserPwd;t!==e&&s.setState({hideAlertIsSameValue:!1}),t===e&&s.setState({hideAlertIsSameValue:!0})},s.signupUser=function(){if(""!==s.state.newUserPwd&&""!==s.state.confirmUserPwd){"LogIn"===s.state.buttonNext&&(window.location="#/login");var e=new D.a.User;e.set("username",s.props.sendUserEmail),e.set("email",s.props.sendUserEmail),e.set("password",s.state.newUserPwd),e.set("plateNumber",s.props.sendUserCarPlate),e.signUp().then((function(e){console.log("User signed up",e),s.setState({hideAlertSuccess:!1,buttonNext:"LogIn"})})).catch((function(e){console.error("Error while signing up user",e),s.setState({hideAlertIsExist:!1,newUserPwd:"",confirmUserPwd:""})}))}else s.setState({hideAlertRequired:!1})},s.state={type:"password",offPwd:"show",onPwd:"hide",newUserPwd:"",confirmUserPwd:"",hideErrorPwd:!0,hideAlertIsSameValue:!0,hideAlertIsExist:!0,hideAlertRequired:!0,hideAlertSuccess:!0,buttonNext:"SignUp"},s}return Object(o.a)(a,[{key:"handleClickOnBackButton",value:function(){window.location="#/signup-step-one"}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"p-signup-step-two",children:[Object(s.jsxs)(b.a,{className:"main",children:[Object(s.jsxs)(f.a,{className:"signup-column",xs:12,md:4,children:[Object(s.jsx)("a",{className:"mb-2",href:"/#",children:Object(s.jsxs)("span",{className:"my-skoda-signup-label",children:["my",Object(s.jsx)("span",{className:"letter-green",children:"Skoda"})]})}),Object(s.jsx)("h4",{children:"Create account"}),Object(s.jsx)("span",{className:"step",children:"Step 2"}),Object(s.jsx)("p",{className:"text",children:"for My Skoda"}),Object(s.jsxs)(C.a,{children:[Object(s.jsxs)(C.a.Group,{children:[Object(s.jsx)(C.a.Label,{children:"Password"}),Object(s.jsxs)("div",{className:"input-password",children:[Object(s.jsx)(C.a.Control,{type:this.state.type,placeholder:"Password",onChange:this.handleChangeInputPwd,value:this.state.newUserPwd}),Object(s.jsx)(g.a,{className:"icon-eye-off ".concat(this.state.offPwd),src:P,onClick:this.showPassword}),Object(s.jsx)(g.a,{className:"icon-eye ".concat(this.state.onPwd),src:y,onClick:this.hidePassword})]}),Object(s.jsx)(C.a.Text,{className:"text-muted",hidden:this.state.hideErrorPwd,children:"Password should contain at least one number and one lowercase letter, and at least 8 or more characters"})]}),Object(s.jsxs)(C.a.Group,{children:[Object(s.jsx)(C.a.Label,{children:"Confirm password"}),Object(s.jsxs)("div",{className:"input-password",children:[Object(s.jsx)(C.a.Control,{type:this.state.type,placeholder:"Password",onChange:this.handleChangeConfirmPwd,value:this.state.confirmUserPwd}),Object(s.jsx)(g.a,{className:"icon-eye-off ".concat(this.state.offPwd),src:P,onClick:this.showPassword}),Object(s.jsx)(g.a,{className:"icon-eye ".concat(this.state.onPwd),src:y,onClick:this.hidePassword})]}),Object(s.jsx)(C.a.Text,{className:"text-muted",hidden:this.state.hideAlertIsSameValue,children:"The fields are not the same"})]}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertRequired,onClose:function(){return e.setState({hideAlertRequired:!0})},dismissible:!0,children:Object(s.jsx)("p",{className:"m-0",children:"All fields are requered"})}),Object(s.jsx)(S.a,{variant:"success",hidden:this.state.hideAlertSuccess,onClose:function(){return e.setState({hideAlertSuccess:!0})},dismissible:!0,children:Object(s.jsxs)("p",{className:"m-0",children:["Success!",Object(s.jsx)("br",{}),"You are signed up.",Object(s.jsx)("br",{}),"Please ",Object(s.jsx)("a",{className:"signup-link",href:"#/login",children:"Login"})]})}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertIsExist,onClose:function(){return e.setState({hideAlertIsExist:!0})},dismissible:!0,children:Object(s.jsxs)("p",{className:"m-0",children:["Account already exists.",Object(s.jsx)("br",{}),"Please ",Object(s.jsx)("a",{className:"signup-link",href:"#/login",children:"Login"})]})}),Object(s.jsxs)("div",{className:"prev-next-buttons",children:[Object(s.jsx)(A.a,{className:"prev-button",variant:"outline-success",onClick:this.handleClickOnBackButton,children:"Back"}),Object(s.jsx)(A.a,{className:"next-button",variant:"success",onClick:this.signupUser,children:this.state.buttonNext})]})]})]}),Object(s.jsxs)(f.a,{className:"signup-column",xs:12,md:8,children:[Object(s.jsx)(g.a,{className:"logo",src:O,rounded:!0}),Object(s.jsx)("div",{className:"signup-img-wrap",children:Object(s.jsx)(g.a,{className:"signup-img",src:B,rounded:!0})})]})]}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component),L=a(264),U=a.n(L),_=a(415),T=(a(801),a.p+"static/media/skoda-signup.f843f9b7.jpg"),R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleChangeInputPlate=function(e){e.preventDefault(),s.setState({userCarPlate:e.target.value,hideAlertRequired:!0,hideErrorCarPlate:!0,hideErrorEmail:!0,hideAlertIsExist:!0}),s.validateCarPlate(e.target.value)},s.handleChangeInputEmail=function(e){e.preventDefault(),s.setState({userEmail:e.target.value,hideAlertRequired:!0,hideErrorCarPlate:!0,hideErrorEmail:!0,hideAlertIsExist:!0}),s.validateEmail(e.target.value)},s.validateCarPlate=function(e){var t=/^\d{7,8}$/.test(e);t||s.setState({hideErrorCarPlate:!1}),t&&s.setState({hideErrorCarPlate:!0})},s.validateEmail=function(e){var t=/^[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e);t||s.setState({hideErrorEmail:!1}),t&&s.setState({hideErrorEmail:!0})},s.getVehicle=function(){var e=Object(_.a)(U.a.mark((function e(t){var a,c,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=s.state.userCarPlate,c=s.state.userEmail,""!==a&&""!==c){e.next=6;break}return s.setState({hideAlertRequired:!1}),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("https://data.gov.il/api/3/action/datastore_search?resource_id=053cea08-09bc-40ec-8f7a-156f0677aff3&filters={%22mispar_rechev%22:[%22".concat(a,"%22]}"));case 9:if((n=e.sent).ok){e.next=12;break}throw new Error(n.statusText);case 12:return e.next=14,n.json();case 14:r=e.sent,r.result.records[0].mispar_rechev===+a&&(s.props.callbackUserCarPlate(a),s.props.callbackUserEmail(c),window.location="#/signup-step-two"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0),s.setState({userCarPlate:"",userEmail:"",hideAlertIsExist:!1});case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),s.state={userCarPlate:"",userEmail:"",hideErrorCarPlate:!0,hideErrorEmail:!0,hideAlertRequired:!0,hideAlertIsExist:!0},s}return Object(o.a)(a,[{key:"handleClickOnBackButton",value:function(){window.location="#/login"}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"p-signup-step-one",children:[Object(s.jsxs)(b.a,{className:"main",children:[Object(s.jsxs)(f.a,{className:"signup-column",xs:12,md:4,children:[Object(s.jsx)("a",{className:"mb-2",href:"/#",children:Object(s.jsxs)("span",{className:"my-skoda-signup-label",children:["my",Object(s.jsx)("span",{className:"letter-green",children:"Skoda"})]})}),Object(s.jsx)("h4",{children:"Create account"}),Object(s.jsx)("span",{className:"step",children:"Step 1"}),Object(s.jsx)("p",{className:"text",children:"for My Skoda"}),Object(s.jsxs)(C.a,{children:[Object(s.jsxs)(C.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(C.a.Label,{children:"License plate number"}),Object(s.jsx)(C.a.Control,{type:"text",placeholder:"License plate number",value:this.state.userCarPlate,onChange:this.handleChangeInputPlate}),Object(s.jsx)(C.a.Text,{className:"text-muted",hidden:this.state.hideErrorCarPlate,children:"License plate number should contain 7 or 8 digits"})]}),Object(s.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(C.a.Label,{children:"Email address"}),Object(s.jsx)(C.a.Control,{type:"email",placeholder:"Enter email",value:this.state.userEmail,onChange:this.handleChangeInputEmail}),Object(s.jsx)(C.a.Text,{className:"text-muted",hidden:this.state.hideErrorEmail,children:"Email should include '@' and '.' Email could contain english letters, numbers and symbols"})]}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertRequired,onClose:function(){return e.setState({hideAlertRequired:!0})},dismissible:!0,children:Object(s.jsx)("p",{className:"m-0",children:"All fields are required"})}),Object(s.jsx)(S.a,{className:"error-alert",hidden:this.state.hideAlertIsExist,onClose:function(){return e.setState({hideAlertIsExist:!0})},dismissible:!0,children:Object(s.jsxs)("p",{className:"m-0",children:["Check license plate number",Object(s.jsx)("br",{}),"and email"]})}),Object(s.jsxs)("div",{className:"prev-next-buttons",children:[Object(s.jsx)(A.a,{className:"prev-button",variant:"outline-success",onClick:this.handleClickOnBackButton,children:"Back"}),Object(s.jsx)(A.a,{className:"next-button",type:"submit",variant:"success",onClick:this.getVehicle,children:"Next"})]})]})]}),Object(s.jsxs)(f.a,{className:"signup-column",xs:12,md:8,children:[Object(s.jsx)(g.a,{className:"logo",src:O,rounded:!0}),Object(s.jsx)("div",{className:"signup-img-wrap",children:Object(s.jsx)(g.a,{className:"signup-img",src:T,rounded:!0})})]})]}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component),F=(a(802),a(197)),q=a.n(F),V=a(19),z=a.n(V),J=(a(820),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).getFullDate=function(e){return z()(e,"DD/MM/YYYY").toDate()},s.getInspectionBeforeTest=function(){var e=(new Date).getFullYear()-s.props.carYear,t=s.props.carTest,a=s.getFullDate(t),c={};e<=2&&(c=z()(a).add(3,"years")),e>=3&&e<20&&(c=z()(a).add(1,"years")),e>=20&&(c=z()(a).add(6,"months"));var n=z()(c).subtract(14,"days"),r=z()(n).format("DD/MM/YYYY");s.setState({inspectionBeforeTest:r})},s.getMultiPointInspection=function(){var e=s.props.lastInspection;if(""!==e&&void 0!==e){var t=s.getFullDate(e),a=z()(t).add(1,"year"),c=z()(a).format("DD/MM/YYYY");s.setState({multiPointInspection:c})}else{var n=new Date,r=z()(n).add(7,"days"),i=z()(r).format("DD/MM/YYYY");s.setState({multiPointInspection:i})}},s.getSeasonInspection=function(){for(var e,t,a=new Date,c=z()(a),n=z()(a).add(1,"year"),r=z()(n);r>c;)"01/05"===c.format("DD/MM")&&(e=c.format("DD/MM/YYYY")),"01/11"===c.format("DD/MM")&&(t=c.format("DD/MM/YYYY")),c.add(1,"day");s.setState({summerInspection:e,winterInspection:t})},s.sheduleServices=function(e){var t=s.getFullDate(e),a=z()(t).subtract(7,"days");return z()(a).format("DD/MM/YYYY")},s.getSortedData=function(){var e=s.state,t=e.inspectionBeforeTest,a=e.multiPointInspection,c=e.summerInspection,n=e.winterInspection;return[{recommended:t,service:"Inspection Before Annual Vehicle Licensing Test",shedule:s.sheduleServices(t)},{recommended:a,service:"Multi-Point Inspection",shedule:s.sheduleServices(a)},{recommended:n,service:"Inspection before winter",shedule:s.sheduleServices(n)},{recommended:c,service:"Inspection before summer",shedule:s.sheduleServices(c)}].sort((function(e,t){return new Date(e.recommended.split("/").reverse().join("-"))-new Date(t.recommended.split("/").reverse().join("-"))}))},s.state={inspectionBeforeTest:"",multiPointInspection:"",summerInspection:"",winterInspection:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getInspectionBeforeTest(),this.getMultiPointInspection(),this.getSeasonInspection()}},{key:"componentDidUpdate",value:function(e,t){this.props!==e&&this.getInspectionBeforeTest()}},{key:"render",value:function(){var e=this.getSortedData().map((function(e,t){return Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{className:"service-cell",children:[Object(s.jsx)("small",{children:"recommended"}),Object(s.jsx)("br",{}),e.recommended]}),Object(s.jsx)("td",{className:"service-cell",children:e.service}),Object(s.jsxs)("td",{className:"service-cell",children:[Object(s.jsx)("small",{children:"shedule"}),Object(s.jsx)("br",{}),Object(s.jsx)("a",{className:"shedule-link",href:"#/shedule",children:e.shedule})]})]})},t)}));return Object(s.jsxs)("div",{className:"c-service-calendar col-md-12 col-lg-4",children:[Object(s.jsx)("h1",{className:"display-4 my-skoda-title",children:"Service Calendar"}),Object(s.jsx)("p",{className:"text-regular",children:"Keep Your Skoda At Its Best with Our Service"}),Object(s.jsx)("span",{className:"text-small",children:"Scheduled maintenance can saving you lots in the long run"}),Object(s.jsxs)("table",{className:"table table-success table-striped table-bordered",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{className:"table-secondary",children:[Object(s.jsx)("th",{className:"service-cell",scope:"row",children:"Visit"}),Object(s.jsx)("th",{className:"service-cell",children:"Service"}),Object(s.jsx)("th",{className:"service-cell",children:"Shedule"})]})}),e]})]})}}]),a}(n.a.Component)),G=(a(821),a(896)),Q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.carTest,a=e.lastInspection;return Object(s.jsxs)("div",{className:"c-my-skoda-service col-md-6 col-lg-4",children:[Object(s.jsx)("h1",{className:"display-4 my-skoda-title",children:"Vehicle Service"}),Object(s.jsx)("p",{className:"text-green",children:"Common Skoda Service"}),Object(s.jsx)(G.a,{className:"mb-4",children:Object(s.jsxs)(G.a.Body,{children:[Object(s.jsx)("p",{className:"text-regular",children:"Inspection Before Annual Vehicle Licensing Test"}),Object(s.jsxs)("p",{className:"text-regular text-bg",children:["your last annual vehicle licensing test: ",Object(s.jsx)("strong",{children:t})]}),Object(s.jsx)("strong",{children:"Recommended"}),Object(s.jsx)("p",{className:"text-regular",children:"See your service calendar"})]})}),Object(s.jsx)(G.a,{className:"mb-4",children:Object(s.jsxs)(G.a.Body,{children:[Object(s.jsx)("p",{className:"text-regular",children:"Multi-Point Inspection"}),Object(s.jsxs)("p",{className:"text-regular text-bg",children:["your last multi-point inspection: ",a?Object(s.jsx)("strong",{children:a}):Object(s.jsx)("span",{className:"text-small",children:"Unfortunately, you haven't been serviced in our dealer centers yet"})]}),Object(s.jsx)("span",{className:"text-small",children:"Full Synthetic Oil Change"}),Object(s.jsx)("span",{className:"text-small",children:"Tire Rotation"}),Object(s.jsx)("span",{className:"text-small",children:"Windshield Wiper Replacement"}),Object(s.jsx)("span",{className:"text-small",children:"Four-Wheel Alignment"}),Object(s.jsx)("strong",{children:"Recommended"}),Object(s.jsx)("p",{className:"text-regular",children:"Every 10,000 Miles or Once a Year "})]})}),Object(s.jsx)(G.a,{className:"mb-4",children:Object(s.jsxs)(G.a.Body,{children:[Object(s.jsx)("p",{className:"text-regular",children:"Get your vehicle winter/summer ready"}),Object(s.jsx)("span",{className:"text-small",children:"Winter Inspection"}),Object(s.jsx)("span",{className:"text-small",children:"Summer Inspection"}),Object(s.jsx)("strong",{children:"Recommended"}),Object(s.jsx)("p",{className:"text-regular",children:"Every May and November of every year"})]})})]})}}]),a}(n.a.Component),Z=(a(822),a.p+"static/media/skoda-then.4377c688.svg"),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userCarPlate,a=e.carMake,c=e.carModel,n=e.carYear,r=e.carLicense,i=e.carVIN;return Object(s.jsxs)("div",{className:"c-my-skoda-data col-md-6 col-lg-4",children:[Object(s.jsx)("h1",{className:"display-4 my-skoda-title",children:"My Vehicle"}),Object(s.jsxs)("div",{className:"wrap-vehicle-info",children:[Object(s.jsx)("span",{className:"text-black",children:a}),Object(s.jsx)("span",{className:"text-green",children:c}),Object(s.jsx)("span",{className:"text-small",children:"plate number"}),Object(s.jsx)("span",{className:"rounded-pill border border-2 shadow-sm plate-number",bg:"light",children:t}),Object(s.jsx)("span",{className:"text-small",children:"year"}),Object(s.jsx)("span",{className:"year",children:n}),Object(s.jsx)("div",{className:"wrap-vehicle-img",children:Object(s.jsx)(g.a,{src:Z,alt:"skoda icon"})}),Object(s.jsxs)("p",{className:"text-center",children:["valid car license: ",Object(s.jsx)("span",{className:"text-bg",children:r})]}),Object(s.jsxs)("code",{children:["VIN:",i]})]})]})}}]),a}(n.a.Component),K=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleCallbackUserLastTest=function(e){s.setState({userLastTest:e})},s.state={activeUser:s.props.activeUser,userCarPlate:s.props.sendUserCarPlate,lastInspection:s.props.lastInspection,carMake:"",carModel:"",carYear:"",carTest:"",carLicense:"",carVIN:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.activeUser&&window.history.forward();var t=this.state.userCarPlate;q.a.get("https://data.gov.il/api/3/action/datastore_search?resource_id=053cea08-09bc-40ec-8f7a-156f0677aff3&filters={%22mispar_rechev%22:[%22".concat(t,"%22]}")).then((function(t){var a=t.data.result.records[0],s=a.tozeret_nm;"\u05e1\u05e7\u05d5\u05d3\u05d4 \u05e6'\u05db\u05d9\u05d4"===s&&(s="Skoda");var c=a.kinuy_mishari,n=a.shnat_yitzur,r=z()(a.mivchan_acharon_dt).format("DD/MM/YYYY"),i=z()(a.tokef_dt).format("DD/MM/YYYY"),l=a.misgeret;e.setState({carMake:s,carModel:c,carYear:n,carTest:r,carLicense:i,carVIN:l})}))}},{key:"render",value:function(){var e=this.state,t=e.userCarPlate,a=e.carMake,c=e.carModel,n=e.carYear,r=e.carTest,i=e.carLicense,l=e.carVIN,o=e.lastInspection;return Object(s.jsxs)("div",{className:"p-my-skoda-page",children:[Object(s.jsxs)(b.a,{className:"main",children:[Object(s.jsx)(H,{userCarPlate:t,carMake:a,carModel:c,carYear:n,carLicense:i,carVIN:l}),Object(s.jsx)(Q,{carTest:r,lastInspection:o}),Object(s.jsx)(J,{carYear:n,carTest:r,lastInspection:o})]}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component),W=(a(823),a(824),a.p+"static/media/superb.8c8dbd7a.jpg"),X=a.p+"static/media/octavia.70e48d89.jpg",$=a.p+"static/media/karoq.b2e328de.jpg",ee=a(424),te=a(425),ae=a(95),se=a(35),ce=a(416),ne=a(265),re=a.n(ne),ie=a(134),le=a(135);a(825);function oe(){var e=Object(ce.a)(["\n.react-datepicker__input-container input,\n.react-datepicker__input-container,\n.react-datepicker-wrapper {\n  width: 240px;\n  height: 38px;\n  margin-bottom: 30px;\n  display: block;\n}\n .react-datepicker__close-icon::before,\n .react-datepicker__close-icon::after {\n    background-color: #28a745;\n }\n .react-datepicker__time-container,\n .react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box {\n   width: 240px;\n }\n .react-datepicker__day--keyboard-selected,\n .react-datepicker__day--selected {\n    background-color: #218838;\n }\n .react-datepicker__day--keyboard-selected:focus,\n .react-datepicker__day--selected:focus {\n    outline: none;\n }\n .react-datepicker__header {\n    background-color:#29a84633;\n }\n .react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected {\n   background-color: #218838;\n }\n .react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected,\n .react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item\n {\n   height: 50px;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n  }\n }\n"]);return oe=function(){return e},e}var de=a(417).a.div(oe()),he=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleSelectedDate=function(e){s.setState({selectedDate:e}),s.props.getSelectedDate(e)},s.getExcludedTimes=function(e){s.setState({excludedTimes:[]});var t=D.a.Object.extend("Shedule");new D.a.Query(t).find().then((function(t){for(var a=[],c=0;c<t.length;c++)a.push(t[c].attributes.sheduledDate);for(var n=[],r=0;r<a.length;r++)z()(e,z.a.ISO_8601).format("YYYY/MM/DD")===z()(new Date(a[r]),z.a.ISO_8601).format("YYYY/MM/DD")&&n.push(z()(new Date(a[r]),z.a.ISO_8601).toObject());for(var i=[],l=0;l<n.length;l++)i.push(Object(ie.default)(Object(le.default)(new Date,n[l].minutes),n[l].hours)),s.setState({excludedTimes:i})}),(function(e){console.error("Error while fetching Shedule",e)}))},s.state={selectedDate:Object(ie.default)(Object(le.default)(new Date,0),8),excludedTimes:[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.selectedDate,a=e.excludedTimes;return Object(s.jsxs)(de,{children:[Object(s.jsx)(re.a,{isClearable:!0,selected:t,onChange:this.handleSelectedDate,onSelect:this.getExcludedTimes,placeholderText:"Select Date and Time",popperPlacement:"top-start",popperModifiers:{offset:{enabled:!0,offset:"0px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}},dateFormat:"dd/MM/yyy",minDate:new Date}),Object(s.jsx)(re.a,{isClearable:!0,selected:t,excludeTimes:a,onChange:this.handleSelectedDate,onSelect:this.getExcludedTimes,placeholderText:"Select Date and Time",popperPlacement:"top-start",popperModifiers:{offset:{enabled:!0,offset:"0px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeFormat:"HH:mm",dateFormat:"hh:mm aa",minDate:new Date,minTime:Object(ie.default)(Object(le.default)(new Date,0),8),maxTime:Object(ie.default)(Object(le.default)(new Date,45),14)})]})}}]),a}(n.a.Component),ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleChangeInput=function(e){var t=e.target,a=t.name,c=t.value;s.setState({values:Object(se.a)(Object(se.a)({},s.state.values),{},Object(ae.a)({},a,c)),touched:Object(se.a)(Object(se.a)({},s.state.touched),{},Object(ae.a)({},a,!0))})},s.handleBlur=function(e){var t=e.target,a=t.name,c=t.value,n=s.state.errors,r=(n[a],Object(ee.a)(n,[a].map(te.a))),i=s.props.validate[a](c);s.setState({errors:Object(se.a)(Object(se.a)({},r),i&&Object(ae.a)({},a,s.state.touched[a]&&i))})},s.getSelectedDate=function(e){var t=s.props.validate.date(e);s.setState({selectedDate:e,values:Object(se.a)(Object(se.a)({},s.state.values),{},{date:e}),touched:Object(se.a)(Object(se.a)({},s.state.touched),{},{date:!0}),errors:Object(se.a)(Object(se.a)({},s.state.errors),t&&{date:s.state.touched.date&&t})})},s.sheduleDate=function(){var e=new(D.a.Object.extend("Shedule"));e.set("sheduledDate",s.state.selectedDate.toString()),e.set("userId",D.a.User.current()),e.save().then((function(e){console.log("Shedule created",e)}),(function(e){console.error("Error while creating Vehicle: ",e)}))},s.handleSubmit=function(e){e.preventDefault(),s.sheduleDate();var t=s.state.errors,a=s.state.touched,c=s.state.values,n=Object.keys(c).reduce((function(e,t){var a=s.props.validate[t](c[t]),n=Object(ae.a)({},t,!0);return{errors:Object(se.a)(Object(se.a)({},e.errors),a&&Object(ae.a)({},t,a)),touched:Object(se.a)(Object(se.a)({},e.touched),n)}}),{errors:Object(se.a)({},t),touched:Object(se.a)({},a)});s.setState({errors:n.errors,touched:n.touched}),console.log(Object.values(n.errors)),console.log(Object.values(n.touched)),console.log(Object.values(s.state.values)),!Object.values(n.errors).length&&Object.values(n.touched).length===Object.values(s.state.values).length&&Object.values(n.touched).every((function(e){return!0===e}))&&alert(JSON.stringify(s.state.values,null,2))},s.state={selectedDate:{},values:{},touched:{},errors:{}},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userCarPlate,a=e.carModel,c=this.state.values,n=c.dealer,r=c.service,i=c.email,l=c.phone;return Object(s.jsxs)("form",{className:"row g-3 shedule-form",children:[Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"validationServer01",className:"form-label",children:"PlateNumber"}),Object(s.jsx)("input",{type:"text",className:"form-control is-valid",id:"validationServer01",value:t,readOnly:!0,required:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"validationServer02",className:"form-label",children:"Model"}),Object(s.jsx)("input",{type:"text",className:"form-control is-valid",id:"validationServer02",value:a,readOnly:!0,required:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"validationServer01",className:"form-label shedule-label mt-2",children:"Choose Dealer"}),Object(s.jsxs)("select",{className:"form-select shedule-select ".concat(this.state.errors.dealer),name:"dealer",onChange:this.handleChangeInput,onBlur:this.handleBlur,id:"validationServer01","aria-describedby":"validationServer01Feedback",value:n,required:!0,children:[Object(s.jsx)("option",{}),Object(s.jsx)("option",{children:"Felix Oficial Dealer Tel-Aviv"}),Object(s.jsx)("option",{children:"HaGoren Oficial Dealer Nataniya"}),Object(s.jsx)("option",{children:"MotorUp Oficial Dealer Petach-Tikva"})]}),Object(s.jsx)("div",{id:"validationServer01Feedback",className:"invalid-feedback",children:"Please select a dealer."})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"validationServer04",className:"form-label shedule-label mt-2",children:"Choose services"}),Object(s.jsxs)("select",{className:"form-select shedule-select ".concat(this.state.errors.service),name:"service",onChange:this.handleChangeInput,onBlur:this.handleBlur,id:"validationServer04","aria-describedby":"validationServer04Feedback",value:r,required:!0,children:[Object(s.jsx)("option",{}),Object(s.jsx)("option",{children:"Inspection Before Annual Vehicle Licensing Test"}),Object(s.jsx)("option",{children:"Multi-Point Inspection"}),Object(s.jsx)("option",{children:"Full service"}),Object(s.jsx)("option",{children:"Inspection before summer"}),Object(s.jsx)("option",{children:"Inspection before winter"})]}),Object(s.jsx)("div",{id:"validationServer04Feedback",className:"invalid-feedback",children:"Please select a service."})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"validationServer03",className:"mt-2",children:"Select Date and Time"}),Object(s.jsx)("div",{id:"validationServer03",className:this.state.errors.date,children:Object(s.jsx)(he,{getSelectedDate:this.getSelectedDate})}),Object(s.jsx)("div",{id:"validationServer03Feedback",className:"invalid-feedback",children:"Please select date and time."})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"validationServer03",className:"col-2 col-form-label pl-0 pt-0",children:"Email"}),Object(s.jsxs)("div",{className:"col-lg-10 col-md-12 col-sm-10 col-xs-12 pl-0",children:[Object(s.jsx)("input",{className:"form-control ".concat(this.state.errors.email),style:{backgroundImage:"none",borderColor:"#000"},type:"email",placeholder:"example@example.com",name:"email",onChange:this.handleChangeInput,onBlur:this.handleBlur,value:i,id:"validationServer03","aria-describedby":"validationServer03Feedback",required:!0}),Object(s.jsx)("div",{id:"validationServer03Feedback",className:"invalid-feedback",children:"Please provide a valid email."})]})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"validationServer03",className:"col-2 col-form-label pl-0",children:"Phone"}),Object(s.jsxs)("div",{className:"col-lg-10 col-md-12 col-sm-10 col-xs-12 pl-0",children:[Object(s.jsx)("input",{className:"form-control ".concat(this.state.errors.phone),style:{backgroundImage:"none",borderColor:"#000"},type:"tel",placeholder:"050-5005050",name:"phone",onChange:this.handleChangeInput,onBlur:this.handleBlur,value:l,id:"validationServer03","aria-describedby":"validationServer03Feedback",required:!0}),Object(s.jsx)("div",{id:"validationServer03Feedback",className:"invalid-feedback",children:"Please provide a valid telephone."})]})]}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("button",{className:"btn btn-primary shedule-submit my-4",type:"submit",onClick:this.handleSubmit,children:"Submit form"})})]})}}]),a}(n.a.Component),je=function(e){return console.log(e),""===e?"is-invalid":null},me={dealer:je,service:je,email:function(e){return console.log(e),/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)&&""!==e.trim()?null:"is-invalid"},phone:function(e){return console.log(e),/[0-9]{2,3}-?[0-9]{7}/.test(e)&&""!==e.trim()?null:"is-invalid"},date:function(e){return console.log(e),""===e||null===e?"is-invalid":null}},be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).getVehicle=function(){var e=s.props.userCarPlate;q.a.get("https://data.gov.il/api/3/action/datastore_search?resource_id=053cea08-09bc-40ec-8f7a-156f0677aff3&filters={%22mispar_rechev%22:[%22".concat(e,"%22]}")).then((function(e){var t=e.data.result.records[0],a=t.kinuy_mishari,c=z()(t.mivchan_acharon_dt).format("DD/MM/YYYY");s.setState({carModel:a,carLastTest:c})}))},s.state={carModel:"",carLastTest:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getVehicle()}},{key:"render",value:function(){var e=this.props,t=e.userCarPlate,a=e.lastInspection,c=this.state,n=c.carModel,r=c.carLastTest;return Object(s.jsxs)("div",{className:"c-shedule-service",children:[Object(s.jsxs)("div",{className:"col-sm-12 col-md-5",children:[Object(s.jsx)("h1",{className:"display-4 my-skoda-title ml-0",children:"Shedule Service Appointment"}),Object(s.jsxs)("p",{className:"text-regular text-bg last ml-0",children:["your last annual vehicle licensing test: ",Object(s.jsx)("strong",{children:r})]}),""===a||void 0===a?Object(s.jsxs)("p",{className:"text-regular text-bg last ml-0",children:["your last multi-point inspection:",Object(s.jsx)("br",{})," ",Object(s.jsx)("small",{children:"Choose date for your first inspection in our dealer centers"})]}):Object(s.jsxs)("p",{className:"text-regular text-bg last ml-0",children:["your last multi-point inspection: ",Object(s.jsx)("strong",{children:a})]}),Object(s.jsx)(ue,{carModel:n,userCarPlate:t,validate:me})]}),Object(s.jsxs)("div",{className:"col-sm-12 col-md-5 rounded",children:[Object(s.jsx)("h3",{className:"title-discount",children:"Shedule your visit online and get 10% discount for service"}),Object(s.jsx)("div",{className:"wrap-shedule-img",children:Object(s.jsx)(g.a,{src:W,className:"shedule-img"})}),Object(s.jsx)("div",{className:"wrap-shedule-img",children:Object(s.jsx)(g.a,{src:X,className:"shedule-img"})}),Object(s.jsx)("div",{className:"wrap-shedule-img",children:Object(s.jsx)(g.a,{src:$,className:"shedule-img"})})]})]})}}]),a}(n.a.Component),pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){null===s.props.activeUser&&window.history.forward()},console.log(s.props),s}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"p-shedule-service-page",children:[Object(s.jsx)(b.a,{className:"main",children:Object(s.jsx)(be,{userCarPlate:this.props.userCarPlate,userId:this.props.userId,lastInspection:this.props.lastInspection})}),Object(s.jsx)(N,{})]})}}]),a}(n.a.Component);D.a.serverURL="https://parseapi.back4app.com",D.a.initialize("Iwo7VyOadOaF4eiiOJjWPPRpYkypMvslH1TxL1Jq","eRJ2OisGhdgtimmV0E815KDSnEcmogdtUZqxFnc1");var Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleLogin=function(e){s.setState({activeUser:e})},s.handleLogOut=function(){s.setState({activeUser:null,userId:"",userEmail:"",userCarPlate:"",userLastInspection:""})},s.handleCallbackUserId=function(e){s.setState({userId:e})},s.handleCallbackUserEmail=function(e){s.setState({userEmail:e})},s.handleCallbackUserCarPlate=function(e){s.setState({userCarPlate:e})},s.handleCallbackLastInspection=function(e){s.setState({userLastInspection:e})},s.state={activeUser:null,userId:"",userEmail:"",userCarPlate:"",userLastInspection:""},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.activeUser,a=e.userId,c=e.userEmail,n=e.userCarPlate,r=e.userLastInspection;return Object(s.jsxs)(u.a,{basename:"/",children:[Object(s.jsx)(j.a,{exact:!0,path:["/shedule","/my-skoda"],children:Object(s.jsx)(x,{handleLogOut:this.handleLogOut,activeUser:t})}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",component:k,children:Object(s.jsx)(k,{})}),Object(s.jsx)(j.a,{path:"/shedule",component:pe,children:Object(s.jsx)(pe,{activeUser:t,userId:a,userCarPlate:n,lastInspection:r})}),Object(s.jsx)(j.a,{path:"/my-skoda",component:K,children:Object(s.jsx)(K,{activeUser:t,sendUserCarPlate:n,lastInspection:r})}),Object(s.jsx)(j.a,{path:"/signup-step-one",component:R,children:Object(s.jsx)(R,{callbackUserEmail:this.handleCallbackUserEmail,callbackUserCarPlate:this.handleCallbackUserCarPlate})}),Object(s.jsx)(j.a,{path:"/signup-step-two",component:M,children:Object(s.jsx)(M,{sendUserEmail:c,sendUserCarPlate:n})}),Object(s.jsx)(j.a,{path:"/login",component:Y,children:Object(s.jsx)(Y,{handleLogin:this.handleLogin,callbackUserId:this.handleCallbackUserId,callbackUserCarPlate:this.handleCallbackUserCarPlate,callbackLastInspection:this.handleCallbackLastInspection})})]})]})}}]),a}(n.a.Component),xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,897)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(Oe,{})}),document.getElementById("root")),xe()}},[[882,1,2]]]);
//# sourceMappingURL=main.bb4a38a0.chunk.js.map